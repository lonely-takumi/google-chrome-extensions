# 機能詳細 / Features Details

## 主な機能 / Main Features

### 1. 単語の保存 / Word Saving

#### 基本的な保存
- ポップアップから手動で単語を入力して保存
- テキスト選択から自動で単語を抽出
- 文脈（単語が使われている文章）を一緒に保存

#### 自動情報記録
- **ソースURL**: 単語を見つけたページのURLを自動記録
- **日付**: 保存した日付を自動記録
- **タイムスタンプ**: Notionが自動的に作成日時を記録

### 2. 柔軟な入力方法 / Flexible Input Methods

#### 方法1: ポップアップから保存
```
テキスト選択 → 拡張機能アイコンクリック → 確認・編集 → 保存
```

**利点**:
- 保存前に内容を確認・編集できる
- 文脈を追加できる
- 保存するかどうか選択できる

#### 方法2: 右クリックメニューから保存
```
テキスト選択 → 右クリック → "Save to Notion" → 即座に保存
```

**利点**:
- 素早く保存できる
- ワンステップで完了
- 読書の流れを中断しない

### 3. スマートなテキスト判定 / Smart Text Detection

拡張機能は選択されたテキストの長さに応じて自動的に判断します：

- **短いテキスト（1-3単語）**: 「単語」フィールドに入力
- **長いテキスト（4単語以上）**: 「文脈」フィールドに入力

### 4. ユーザーフレンドリーなUI / User-Friendly UI

#### タブ式インターフェース
- **単語を保存タブ**: メインの機能
- **設定タブ**: APIキーとデータベースIDの設定

#### ライト/ダークモード対応
- システムの設定に自動的に追従
- 目に優しい配色

#### リアルタイムフィードバック
- 保存中の状態表示
- 成功/エラーメッセージ
- 通知によるフィードバック

### 5. セキュリティ / Security

#### ローカルストレージ
- APIキーとデータベースIDはブラウザのローカルストレージに安全に保存
- 暗号化されたChrome Storage APIを使用

#### プライバシー保護
- データはNotionにのみ送信
- 第三者へのデータ送信なし
- トラッキングなし

### 6. 使用例 / Use Cases

#### 英語学習者向け
```
Webページを読む → 知らない単語を選択 → 右クリックで保存 → 後でNotionで復習
```

#### 研究者向け
```
論文を読む → 重要な用語を保存 → 文脈も保存 → 後で参照
```

#### 翻訳者向け
```
翻訳作業中 → 難しい表現を保存 → 文脈と共に保存 → 用語集として活用
```

## 技術的な特徴 / Technical Features

### Chrome Manifest V3
- 最新のChrome拡張機能規格に準拠
- Service Workerによる効率的なバックグラウンド処理
- セキュアな権限管理

### Notion API Integration
- Notion API v2022-06-28を使用
- RESTful APIによる安全な通信
- エラーハンドリング実装

### クロスブラウザ対応
- Chrome
- Edge（Chromiumベース）
- Brave
- その他Chromiumベースブラウザ

## 今後の拡張可能性 / Future Enhancements

以下の機能を将来的に追加できます：

1. **辞書API連携**: 単語の定義を自動取得
2. **例文生成**: AIを使った例文の自動生成
3. **重複チェック**: 既に保存済みの単語を検出
4. **タグ付け**: カテゴリやレベルでタグ付け
5. **統計機能**: 保存した単語の統計表示
6. **エクスポート**: CSV/JSONでのエクスポート
7. **オフライン対応**: オフライン時の一時保存
8. **複数データベース対応**: 用途別のデータベース選択

## パフォーマンス / Performance

- **軽量**: 拡張機能のサイズは小さく、ブラウザのパフォーマンスに影響を与えません
- **高速**: ページ読み込みへの影響は最小限
- **効率的**: バックグラウンドで非同期処理

## 対応ページ / Supported Pages

- すべてのWebページ（`<all_urls>`）
- HTTPおよびHTTPSページ
- ローカルHTMLファイル（設定で有効化した場合）

**注意**: chrome:// などの特殊なページでは一部機能が制限されます。
